<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>๐งพ POS</title>

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="print.css">
<link rel="stylesheet" href="Phetsarath OT.css">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#22c55e">
</head>

<body>

<h2 class="main-title">๐งพ POS SYSTEM</h2>

<!-- MEMBER -->
<div class="member-box modern">
  <input id="memberName" placeholder="๐ค เบเบทเปเบฅเบนเบเบเปเบฒ">
  <input id="memberPhone" placeholder="๐ เปเบเบตเปเบ">
  <input id="discount" type="number" placeholder="๐ธ เบชเปเบงเบเบซเบผเบธเบ %" value="0">
</div>

<div class="app">

  <!-- LEFT -->
  <div class="left-panel">

    <!-- CATEGORY + SEARCH -->
    <div class="category-bar modern" style="display:flex;gap:10px;align-items:center;">
      <div>
        <label>๐ เปเบงเบ</label><br>
        <select id="categorySelect" onchange="filterProducts()"></select>
      </div>

      <div style="flex:1">
        <label>๐ เบเบปเปเบเบซเบฒ</label><br>
        <input
          type="text"
          id="searchInput"
          placeholder="เบเบทเป / Barcode"
          oninput="filterProducts()"
          style="width:100%;padding:8px;border-radius:10px;border:1px solid #e5e7eb;">
      </div>
    </div>

    <!-- MENU GRID -->
    <div class="menu" id="menu"></div>

  </div>

  <!-- RIGHT -->
  <div class="right-panel">

    <!-- ACTION BUTTONS -->
    <div class="actions-grid modern-grid">

      <button class="manage-btn primary" onclick="location.href='add-product.html'">
        โ เปเบเบตเปเบกเปเบกเบเบน
      </button>

      <button class="manage-btn warning" onclick="location.href='manage.html'">
        โ๏ธ เบเบฑเบเบเบฒเบเปเบกเบเบน
      </button>

      <button class="manage-btn info" onclick="location.href='category.html'">
        ๐ เปเบงเบเบชเบดเบเบเปเบฒ
      </button>

      <button class="manage-btn success" onclick="location.href='report.html'">
        ๐ เบฅเบฒเบเบเบฒเบ
      </button>

      <button class="manage-btn stock-btn" onclick="openStock()">
        ๐ฆ Stock
      </button>

      <button class="print-btn" onclick="printCustomer()">
        ๐งพ เบเบดเบกเบเบดเบ
      </button>

      <button class="kitchen-btn" onclick="printKitchen()">
        ๐ณ เบเบดเบเบเบปเบง
      </button>

      <button class="manage-btn info" onclick="location.href='shop-setting.html'">
        ๐ช เบเบฑเปเบเบเปเบฒเบฎเปเบฒเบ
      </button>

    </div>

    <!-- RECEIPT -->
    <div id="receipt" class="receipt-card">
      <center>
        <img id="shopLogo" class="logo">
        <b id="shopName"></b><br>
        <span id="shopPhone"></span>
      </center>

      <hr>
      <div id="time"></div>
      <hr>
      <div id="items"></div>
      <hr>
      <b id="total">เบฅเบงเบก: 0 เบเบตเบ</b>
    </div>

  </div>
</div>

<!-- PRINT AREA -->
<div id="printArea" class="print-area">
  <img id="printLogo" class="print-logo">
  <h3 id="printShopName"></h3>
  <div id="printDate"></div>

  <div class="print-divider"></div>

  <table class="print-table">
    <tbody id="printItems"></tbody>
  </table>

  <div class="print-divider"></div>

  <div class="print-total">
    เบฅเบงเบกเบเบฑเบเปเบปเบ: <span id="printTotal"></span> เบเบตเบ
  </div>
</div>

<script src="app.js"></script>
<script src="print.js"></script>

<script>
/* =====================
  LOAD SHOP INFO
===================== */
const shop = JSON.parse(localStorage.getItem("SHOP_INFO") || "{}");

document.getElementById("shopName").innerText =
  shop.name || "เบฎเปเบฒเบเบเบญเบเบเปเบญเบ";

document.getElementById("shopPhone").innerText =
  shop.phone || "";

document.getElementById("shopLogo").src =
  shop.logo || "logo.png";

document.getElementById("printShopName").innerText =
  shop.name || "เบฎเปเบฒเบเบเบญเบเบเปเบญเบ";

document.getElementById("printLogo").src =
  shop.logo || "logo.png";
</script>

<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>